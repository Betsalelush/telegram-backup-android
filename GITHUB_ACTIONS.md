# ğŸš€ ×‘× ×™×™×ª APK ×¢× GitHub Actions

## ×œ××” GitHub Actions?

- âœ… **×œ× ×¦×¨×™×š ×œ×”×™×©××¨ ×‘×“×¤×“×¤×Ÿ** - ×”×‘× ×™×™×” ×¨×¦×” ×‘×¨×§×¢
- âœ… **××•×˜×•××¦×™×” ××œ××”** - push = ×‘× ×™×™×” ××•×˜×•××˜×™×ª (××•×¤×¦×™×•× ×œ×™)
- âœ… **×œ×•×’×™× ××œ××™×** - ×›×œ ×”×œ×•×’×™× × ×©××¨×™×
- âœ… **××”×™×¨ ×™×•×ª×¨** - 30-40 ×“×§×•×ª (×‘××§×•× ×©×¢×” ×‘-Colab)
- âœ… **××™×Ÿ timeout** - GitHub Actions ×œ× ×× ×ª×§
- âœ… **×¢×•×‘×“!** - ×”×¦×œ×—× ×• ×œ×‘× ×•×ª APK ×‘×”×¦×œ×—×”! ğŸ‰

## ğŸ¯ ×”×¤×ª×¨×•×Ÿ ×©×¢×‘×“

××—×¨×™ 7 × ×™×¡×™×•× ×•×ª, ×”×¤×ª×¨×•×Ÿ ×”×¡×•×¤×™ ×©×¢×‘×“:

### ×ª×œ×•×™×•×ª × ×“×¨×©×•×ª:
```yaml
- autoconf
- automake
- libtool
- libtool-bin        # â† ×—×™×•× ×™!
- autoconf-archive
- m4
- pkg-config
- gettext
- python3-dev        # â† ×—×™×•× ×™!
- libltdl-dev        # â† ×–×” ×¢×©×” ××ª ×”×”×‘×“×œ!
- libffi-dev
- build-essential
```

### ×¦×¢×“ × ×•×¡×£:
```yaml
- name: ğŸ”„ Update autotools macros
  run: |
    sudo apt-get install --only-upgrade -y autoconf automake libtool
```

**×”××¤×ª×— ×œ×”×¦×œ×—×”**: `libltdl-dev` + ×¢×“×›×•×Ÿ autotools

---

## ××™×š ×œ×”×©×ª××©?

### ××•×¤×¦×™×” 1: ×”×¤×¢×œ×” ×™×“× ×™×ª (××•××œ×¥)

1. **×’×© ×œ-GitHub**:
   [Actions â†’ Build Android APK](https://github.com/Betsalelush/telegram-backup-android/actions/workflows/build-apk.yml)

2. **×œ×—×¥ ×¢×œ "Run workflow"**

3. **×‘×—×¨ ×’×¨×¡×”**:
   - `crash_test` - ğŸ§ª ×˜×¡×˜ Sentry (××”×™×¨! ~10 ×“×§×•×ª)
   - `basic` - Kivy ×‘×œ×‘×“
   - `kivymd` - Kivy + KivyMD
   - `full` - ×”×’×¨×¡×” ×”××œ××” ×¢× Telethon

4. **×œ×—×¥ "Run workflow"** (×”×›×¤×ª×•×¨ ×”×™×¨×•×§)

5. **×”××ª×Ÿ ×œ×¡×™×•×** - ×ª×§×‘×œ âœ… ×›×©××•×›×Ÿ

6. **×”×•×¨×“ ××ª ×”-APK**:
   - ×œ×—×¥ ×¢×œ ×”×¨×™×¦×” (run)
   - ×’×œ×•×œ ×œ××˜×” ×œ-"Artifacts"
   - ×œ×—×¥ ×¢×œ `apk-[version]-[hash]` ×œ×”×•×¨×“×”
   - ×—×œ×¥ ××ª ×§×•×‘×¥ ×”-ZIP
   - ×”×¢×‘×¨ ××ª ×”-APK ×œ×˜×œ×¤×•×Ÿ

### ××•×¤×¦×™×” 2: ×”×¨×¦×” ××”×˜×¨××™× ×œ

```powershell
# ×”×¨×¦×ª build
gh workflow run build-apk.yml -f version=crash_test

# ×‘×“×™×§×ª ×¡×˜×˜×•×¡
gh run list --workflow=build-apk.yml --limit 1

# ×”×•×¨×“×ª APK
gh run download [run-id]
```

---

## ğŸ“¦ ×”×•×¨×“×ª ×”-APK

×”-APK × ××¦× ×‘:
```
e:\app backup\telegram-backup-android\apk-download\apk-crash_test-[hash]\
```

**×œ×”×ª×§× ×” ×‘×˜×œ×¤×•×Ÿ**:
1. ×”×¢×‘×¨ ××ª ×§×•×‘×¥ ×”-APK ×œ×˜×œ×¤×•×Ÿ (×“×¨×š USB/Bluetooth/Cloud)
2. ×¤×ª×— ××ª ×”×§×•×‘×¥ ×‘×˜×œ×¤×•×Ÿ
3. ××¤×©×¨ "×”×ª×§× ×” ×××§×•×¨×•×ª ×œ× ×™×“×•×¢×™×" ×× × ×“×¨×©
4. ×”×ª×§×Ÿ

---

## ğŸ› ××™×ª×•×¨ ×§×¨×™×¡×•×ª

### ×©×œ×‘ 1: ×‘× ×” crash_test
```bash
# ×”×¤×¢×œ ×™×“× ×™×ª ×¢× version = crash_test
```

- ×”×ª×§×Ÿ ×‘××›×©×™×¨
- ×œ×—×¥ "ğŸ’¥ Crash Me!"
- ×‘×“×•×§ ×‘-[Sentry](https://bubababa.sentry.io/projects/test-crash-android/)
- **×× ×¨×•××” ××ª ×”×©×’×™××” ×‘-Sentry** = âœ… Sentry ×¢×•×‘×“!

### ×©×œ×‘ 2: ×‘× ×” full
```bash
# ×”×¤×¢×œ ×™×“× ×™×ª ×¢× version = full
```

- ×”×ª×§×Ÿ ×‘××›×©×™×¨
- × ×¡×” ×œ×¤×ª×•×—
- **×× ×§×•×¨×¡×ª**:
  1. ×’×© ×œ-[Sentry](https://bubababa.sentry.io)
  2. ×ª×¨××” ××ª ×”×©×’×™××” ×”××“×•×™×§×ª
  3. ×§×¨× ××ª ×”-stack trace
  4. ×ª×§×Ÿ ××ª ×”×‘×¢×™×”

---

## ğŸ”§ ×ª×™×§×•×Ÿ ×‘×¢×™×•×ª

### ×”×‘× ×™×™×” × ×›×©×œ×”?

1. **×’×© ×œ-Actions**
2. **×œ×—×¥ ×¢×œ ×”×¨×™×¦×” ×”×›×•×©×œ×ª**
3. **×œ×—×¥ ×¢×œ "build"**
4. **×§×¨× ××ª ×”×œ×•×’×™×** - ×ª×¨××” ×‘×“×™×•×§ ××™×¤×” × ×›×©×œ

### APK ×œ× ×¢×•×‘×“?

1. **×‘×“×•×§ ×‘-Sentry** - ×™×© ×©× stack trace ××œ×
2. **×§×¨× ××ª ×”×œ×•×’×™×** ×©×œ ×”×‘× ×™×™×”

---

## ğŸ“ ×’×¨×¡××•×ª ×–××™× ×•×ª

| ×’×¨×¡×” | ×ª×™××•×¨ | ×–××Ÿ ×‘× ×™×™×” | ×§×‘×¦×™× |
|------|-------|-----------|-------|
| `crash_test` | ×˜×¡×˜ Sentry ×¢× ×›×¤×ª×•×¨ ×§×¨×™×¡×” | ~10 ×“×§×•×ª | `main_crash_test.py` + `requirements_crash_test.txt` |
| `basic` | Kivy ×‘×œ×‘×“ | ~15 ×“×§×•×ª | `main_test_basic.py` + `requirements_basic.txt` |
| `kivymd` | Kivy + KivyMD | ~20 ×“×§×•×ª | `main_test_kivymd.py` + `requirements_kivymd.txt` |
| `full` | ×”×’×¨×¡×” ×”××œ××” + Telethon | ~30-40 ×“×§×•×ª | `main_full.py` + `requirements_full.txt` |

---

## ğŸ’¡ ×˜×™×¤×™×

- **×”×ª×—×œ ×¢× `crash_test`** - ×•×•×“× ×©-Sentry ×¢×•×‘×“
- **××—×¨ ×›×š `full`** - ×‘× ×” ××ª ×”×’×¨×¡×” ×”××œ××”
- **×× ×§×•×¨×¡×ª** - ×‘×“×•×§ ×‘-Sentry ×•×ª×§×Ÿ

---

**×–××Ÿ ×—×™×¡×›×•×Ÿ**: ×‘××§×•× ×œ×”×™×©××¨ ×‘×“×¤×“×¤×Ÿ ×©×¢×” - ×¢×©×” push ×•×œ×š ×œ×™×©×•×Ÿ! ğŸ˜´

**×”×¦×œ×—× ×•!** ğŸ‰ GitHub Actions ×¢×•×‘×“ ××—×¨×™ 7 × ×™×¡×™×•× ×•×ª!
