# ğŸ“‹ ×ª×•×›× ×™×ª ×¢×‘×•×“×” - ×©×™×¤×•×¨ Workflow YML

**×ª××¨×™×š:** 12/01/2026 13:24  
**×©×œ×‘:** ×©×™×¤×•×¨ GitHub Actions Workflow  
**××˜×¨×”:** workflow ××”×™×¨, ×™×¦×™×‘, ×¢× cache

---

## ğŸ¯ ×“×¨×™×©×•×ª

### 1. ×—×œ×•×§×” ×œ×©× ×™ ×©×œ×‘×™×
- **×©×œ×‘ 1:** ×”×ª×§× ×ª ×ª×œ×•×™×•×ª (Dependencies)
- **×©×œ×‘ 2:** ×‘× ×™×™×” (Build)

**×™×ª×¨×•× ×•×ª:**
- ×‘×¨×•×¨ ×™×•×ª×¨
- ×§×œ ×œ×“×‘×’
- cache ×™×¢×™×œ ×™×•×ª×¨

---

### 2. ×’×¨×¡××•×ª ×§×‘×•×¢×•×ª
**×œ××”?**
- ×× ×™×¢×ª ×”×ª× ×’×©×•×™×•×ª
- ×™×¦×™×‘×•×ª
- reproducible builds

**××” ×œ×§×‘×•×¢:**
- Python version: `3.11` (×œ× 3.13 - ×‘×¢×™×•×ª ×ª××™××•×ª)
- Buildozer: `1.5.0`
- Cython: `0.29.36`
- pyjnius: `1.6.1` (×’×¨×¡×” ×—×“×©×” - ×ª×•××›×ª Python 3)
- Kivy: `2.3.0`
- KivyMD: `1.2.0`

---

### 3. Cache ××œ×
**××” ×œ×©××•×¨:**
- pip cache
- buildozer cache
- .buildozer directory
- Android SDK/NDK

**×™×ª×¨×•× ×•×ª:**
- build ××”×™×¨ ×¤×™ 10!
- ×—×™×¡×›×•×Ÿ ×‘×–××Ÿ
- ×—×™×¡×›×•×Ÿ ×‘-bandwidth

---

## ğŸ“ ×ª×•×›× ×™×ª ×™×™×©×•×

### ×©×œ×‘ 1: ×¢×“×›×•×Ÿ requirements
**×§×•×‘×¥:** `requirements_full.txt`

**×ª×•×›×Ÿ ×—×“×©:**
```
telethon==1.36.0
kivy==2.3.0
kivymd==1.2.0
sentry-sdk==1.40.0
Cython==0.29.36
```

---

### ×©×œ×‘ 2: ×™×¦×™×¨×ª Workflow ×—×“×©
**×§×•×‘×¥:** `.github/workflows/build-apk.yml`

**××‘× ×”:**
```yaml
name: Build APK

on:
  push:
    branches: [ master ]
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
      # 1. Checkout
      # 2. Setup Python 3.11
      # 3. Cache pip
      # 4. Cache buildozer
      # 5. Install dependencies
      # 6. Patch pyjnius (×× ×¦×¨×™×š)
      # 7. Build APK
      # 8. Upload APK
```

---

### ×©×œ×‘ 3: ×”×•×¡×¤×ª Cache

**Cache Keys:**
1. `pip-${{ hashFiles('requirements_full.txt') }}`
2. `buildozer-${{ hashFiles('buildozer.spec') }}`
3. `android-sdk-ndk-r25c`

**Restore Keys:**
- Fallback ×œ××§×¨×” ×©×œ ×©×™× ×•×™×™× ×§×˜× ×™×

---

## ğŸ”§ ×™×™×©×•×

### ×§×•×‘×¥ 1: requirements_full.txt
```
telethon==1.36.0
kivy==2.3.0
kivymd==1.2.0
sentry-sdk==1.40.0
Cython==0.29.36
pyjnius==1.6.1
```

---

### ×§×•×‘×¥ 2: build-apk.yml (××©×•×¤×¨)

**×ª×›×•× ×•×ª:**
- âœ… Python 3.11 (×™×¦×™×‘)
- âœ… ×’×¨×¡××•×ª ×§×‘×•×¢×•×ª
- âœ… Cache ××œ×
- âœ… ×©× ×™ ×©×œ×‘×™× ×‘×¨×•×¨×™×
- âœ… Error handling
- âœ… Logs ××¤×•×¨×˜×™×

---

## ğŸ“Š ×”×©×•×•××”

### ×œ×¤× ×™:
- â±ï¸ ×–××Ÿ build: ~45 ×“×§×•×ª
- ğŸ’¾ Cache: ××™×Ÿ
- ğŸ”„ ×’×¨×¡××•×ª: floating
- âŒ ×›×©×œ×•× ×•×ª: ×”×¨×‘×”

### ××—×¨×™:
- â±ï¸ ×–××Ÿ build: ~5-10 ×“×§×•×ª (×¢× cache)
- ğŸ’¾ Cache: ××œ×
- ğŸ”„ ×’×¨×¡××•×ª: ×§×‘×•×¢×•×ª
- âœ… ×›×©×œ×•× ×•×ª: ××™× ×™××•×

---

## ğŸ¯ ×ª×•×¦××” ×¦×¤×•×™×”

**Build ×¨××©×•×Ÿ:**
- ×”×ª×§× ×ª ×”×›×œ ×××¤×¡
- ~45 ×“×§×•×ª
- ×©××™×¨×” ×‘-cache

**Build ×©× ×™:**
- ×©×™××•×© ×‘-cache
- ~5-10 ×“×§×•×ª
- ×¨×§ build ×©×œ ×”×§×•×“

---

**××ª×—×™×œ ×‘×™×™×©×•×!** ğŸš€
